<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grant Talbert | i love boba xdddddd</title>
  <link rel="stylesheet" href="assets/css/pastel.css" />
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Loader Overlay -->
  <div id="loader">
    <div id="loader-text">Calculating the answer to life, the universe, and everything - 0% complete</div>
  </div>
  
  <div class="container">
    <header>
      <h1 id="typed-title" class="terminal-line"></h1>
      <p id="typed-tagline" class="terminal-line"></p>
      <nav class="nav-links">
        <a href="about/">About</a>
        <a href="projects/">Projects</a>
        <a href="contact/">Contact</a>
      </nav>
    </header>
    <section id="about" class="reveal">
      <h2>About Me</h2>
      <p>
        I'm a passionate math and physics student who's in love with QFT, High-Energy Physics, (Higher) Category Theory, and anything that qualifies as "abstract nonsense". I love whiteboards, when the diagram commutes, and keeping things playful and cozy.
      </p>
    </section>
    <section id="projects" class="reveal">
      <h2>Projects</h2>
      <p>
        Check out my GitHub for LaTeX templates, university notes, my Minecraft mod, dotfiles, and my random code experiments.
      </p>
    </section>
    <section id="contact" class="reveal">
      <h2>Contact</h2>
      <p>
        wanna talk? hmu bro
      </p>
    </section>
    <footer>
      <p>&copy; 2025 Grant Talbert. Made with love~</p>
    </footer>
  </div>
  
  <!-- Star particle effect remains unchanged -->
  <script>
    document.addEventListener('mousemove', function(e) {
      const star = document.createElement('div');
      star.classList.add('star');
      star.innerText = '★';
      star.style.left = e.clientX + 'px';
      star.style.top = e.clientY + 'px';
      document.body.appendChild(star);
      setTimeout(() => {
        star.remove();
      }, 1000);
    });
  </script>
  
  <!-- Typewriter effect for title and tagline -->
  <script>
    function typeText(element, text, delay = 50, callback) {
      let i = 0;
      function type() {
        if (i < text.length) {
          // Preserve spaces; non-greedy replacement of any existing cursor span
          element.innerHTML = element.innerHTML.replace(/<span class="cursor">.*?<\/span>/g, '') + text.charAt(i) + '<span class="cursor">&nbsp;</span>';
          i++;
          setTimeout(type, delay);
        } else {
          element.innerHTML = text + '<span class="cursor">&nbsp;</span>';
          if (callback) callback();
        }
      }
      element.innerHTML = '<span class="cursor">&nbsp;</span>';
      type();
    }
    
    document.addEventListener("DOMContentLoaded", () => {
      const titleEl = document.getElementById("typed-title");
      const taglineEl = document.getElementById("typed-tagline");
      
      typeText(titleEl, "Hi, I'm Grant Talbert!", 50, () => {
        setTimeout(() => {
          typeText(taglineEl, "math, physics, and a friendly introduction to abstract nonsense", 35);
        }, 300);
      });
    });
  </script>
  
  <!-- Scroll reveal for elements with class "reveal" remains unchanged -->
  <script>
    const revealElements = document.querySelectorAll('.reveal');
    const revealObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('revealed');
          revealObserver.unobserve(entry.target);
        }
      });
    });
    revealElements.forEach(el => revealObserver.observe(el));
  </script>
  
  <!-- Floating math symbols effect (with updated spawn rate and symbols) -->
  <script>
    const mathSymbols = ['⊗', '∏', 'σ', '∫', '∑', 'Ψ', '∞', '≅', 'λ', 'θ'];
    setInterval(() => {
      const symbol = document.createElement('div');
      symbol.classList.add('floating-symbol');
      symbol.innerText = mathSymbols[Math.floor(Math.random() * mathSymbols.length)];
      symbol.style.left = Math.random() * window.innerWidth + 'px';
      symbol.style.top = window.innerHeight + 'px';
      document.body.appendChild(symbol);
      setTimeout(() => symbol.remove(), 4000);
    }, 500); // Spawn every 500ms
  </script>
  
  <!-- Custom Loader Script -->
  <script>
    // Simulate loading progress
    let progress = 0;
    const loaderText = document.getElementById('loader-text');
    const loader = document.getElementById('loader');
    const loadingInterval = setInterval(() => {
      progress += Math.floor(Math.random() * 3) + 1; // Random small increments
      if (progress >= 100) {
        progress = 100;
        loaderText.innerText = "The answer is 42";
        clearInterval(loadingInterval);
        setTimeout(() => {
          loader.classList.add('hidden');
        }, 1000); // Let the final message show for a moment
      } else {
        loaderText.innerText = `Calculating the answer to life, the universe, and everything - ${progress}% complete`;
      }
    }, 50);
  </script>
  
  <!-- Scroll-responsive container background -->
  <script>
    window.addEventListener('scroll', () => {
      const container = document.querySelector('.container');
      const scrollY = window.scrollY;
      const maxScroll = document.body.scrollHeight - window.innerHeight;
      const ratio = scrollY / (maxScroll || 1); // Avoid divide-by-zero
      // Interpolate between pastel pink (#ffb3e6) and pastel blue (#a6e7ff)
      const startHue = 340; // approximate hue for pastel pink
      const endHue = 200;   // approximate hue for pastel blue
      const currentHue = Math.round(startHue + (endHue - startHue) * ratio);
      container.style.background = `linear-gradient(135deg, hsl(${currentHue}, 70%, 90%), hsl(${currentHue}, 70%, 95%))`;
    });
  </script>
  
</body>
</html>
